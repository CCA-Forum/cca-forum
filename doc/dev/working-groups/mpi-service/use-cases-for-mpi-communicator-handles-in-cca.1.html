<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">



<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us"
      lang="en-us">

  
    
    
    
    
    

  

  <head>

    <meta http-equiv="Content-Type"
          content="text/html;charset=utf-8" />

    
      <base href="" /><!--[if lt IE 7]></base><![endif]-->
    

    <meta name="generator" content="Plone - http://plone.org" />

    <link rel="kss-base-url" href="use-cases-for-mpi-communicator-handles-in-cca.1.html" />

  
  
    
      <script type="text/javascript"
              src="../../portal_javascripts/Plone&#32;Default/event-registration-cachekey3537.js">
      </script>
    
    
  

  
    
      <script type="text/javascript"
              src="../../portal_javascripts/Plone&#32;Default/ploneglossary-cachekey6274.js">
      </script>
    
    
  

  
    
    
      <script type="text/javascript"><!--  
/* - ploneglossary_definitions.js - */
// https://www.cca-forum.org/dev/portal_javascripts/ploneglossary_definitions.js?original=1

  // --></script>
    
  

  
  
    
    
      <style type="text/css"><!-- @import url(../../portal_css/Plone Default/base-cachekey4948.css); --></style>
    
    
  

  
    
    
      <style type="text/css"><!-- @import url(../../portal_css/Plone Default/helpcenter-cachekey8329.css); --></style>
    
    
  

  
    
    
      <style type="text/css"><!-- @import url(../../portal_css/Plone Default/ploneglossary_popup-cachekey7338.css); --></style>
    
    
  

  
  <link rel="kinetic-stylesheet" type="text/css"
        href="../../portal_kss/Plone&#32;Default/at-cachekey7959.kss.css" />


<title>Use cases for MPI communicator handles in CCA &mdash; CCA Forum</title>

    <meta content="The primary parallel context in MPI-based codes is defined by a communicator. Here are the two basic use-cases for a component to end up with a communicator."
          name="description" />

    <!-- Internet Explorer CSS Fixes -->
    <!--[if IE]>
        <style type="text/css" media="all">@import url(https://www.cca-forum.org/dev/IEFixes.css);</style>
    <![endif]-->

    
    <link rel="author"
          href="../../author/baallan.html"
          title="Author information" />


    <link rel="shortcut icon" type="image/x-icon"
          href="../../favicon.ico.html" />


    <link rel="home" href="../../../dev.1.html"
          title="Front page" />

    <link rel="contents"
          href="../../sitemap.html"
          title="Site Map" />




    <link rel="search"
          href="../../search_form.html"
          title="Search this site" />


    

    <!-- Disable IE6 image toolbar -->
    <meta http-equiv="imagetoolbar" content="no" />
    
    
    

    
    

    
    

    
    

  </head>

  <body class="section-working-groups template-document_view"
        dir="ltr">
    <div id="visual-portal-wrapper">

      <div id="portal-top">
        <div id="portal-header">
<p class="hiddenStructure">
  <a accesskey="2"
     href="use-cases-for-mpi-communicator-handles-in-cca.1.html#documentContent">Skip to content.</a> |

  <a accesskey="6"
     href="use-cases-for-mpi-communicator-handles-in-cca.1.html#portlet-navigation-tree">Skip to navigation</a>
</p>

<ul id="portal-siteactions">

    <li id="siteaction-sitemap"><a
    href="../../sitemap.html"
    accesskey="3" title="Site Map">Site Map</a></li>
    <li id="siteaction-accessibility"><a
    href="../../accessibility-info.html"
    accesskey="0" title="Accessibility">Accessibility</a></li>
    <li id="siteaction-contact"><a
    href="../../contact-info.html"
    accesskey="9" title="Contact">Contact</a></li>

</ul>

<div id="portal-searchbox">
    <form name="searchform"
          action="https://www.cca-forum.org/dev/search">

        <label for="searchGadget" class="hiddenStructure">Search Site</label>

        <div class="LSBox">
        <input name="SearchableText" type="text" size="18"
               title="Search Site" accesskey="4"
               class="inputLabel" id="searchGadget" />

        <input class="searchButton" type="submit"
               value="Search" />
    
        <div class="searchSection">
            <input id="searchbox_currentfolder_only"
                   class="noborder" type="checkbox"
                   name="path"
                   value="/cca/working-groups/mpi-service" />
            <label for="searchbox_currentfolder_only"
                   style="cursor: pointer">
                only in current section
            </label>
        </div>

        <div class="LSResult" id="LSResult" style=""><div class="LSShadow" id="LSShadow"></div></div>
        </div>
    </form>

    <div id="portal-advanced-search" class="hiddenStructure">
        <a href="../../search_form.html"
           accesskey="5">
            Advanced Search&hellip;
        </a>
    </div>

</div>

<a id="portal-logo" accesskey="1"
   href="../../../dev.1.html">
    <img src="../../logo.jpg.html" alt="" title="" height="60" width="468" /></a>


    <h5 class="hiddenStructure">Sections</h5>

    <ul id="portal-globalnav">
        <li id="portaltab-index_html" class="selected">
            <a href="../../../dev.1.html" title="">Home</a></li>
    </ul>

</div>

<div id="portal-personaltools-wrapper">

<h5 class="hiddenStructure">Personal tools</h5>

<ul id="portal-personaltools" class="visualInline">
   

    
        <li>
            <a href="../../login_form.html">Log in</a>
        </li>
    

</ul>
</div>


    

<div id="portal-breadcrumbs">

    <span id="breadcrumbs-you-are-here">You
are here:</span>
    <a href="../../../dev.1.html">Home</a>
    <span class="breadcrumbSeparator">
        &rarr;
        
    </span>
    <span dir="ltr">
        
            <a href="../../working-groups.1.html">Working Groups</a>
            <span class="breadcrumbSeparator">
                &rarr;
                
            </span>
            
         
    </span>
    <span dir="ltr">
        
            <a href="../mpi-service.1.html">MPI Service</a>
            <span class="breadcrumbSeparator">
                &rarr;
                
            </span>
            
         
    </span>
    <span dir="ltr">
        
            
            
            <span>Use cases for MPI communicator handles in CCA</span>
         
    </span>

</div>

      </div>

      <div class="visualClear" id="clear-space-before-wrapper-table"><!-- --></div>

      <table id="portal-columns">
        <tbody>
          <tr>
            
            <td id="portal-column-one">
              <div class="visualPadding">
                
                  
<div id="portletwrapper-706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f6363610a6e617669676174696f6e"
     class="portletWrapper kssattr-portlethash-706c6f6e652e6c656674636f6c756d6e0a636f6e746578740a2f6363610a6e617669676174696f6e">
<dl class="portlet portletNavigationTree">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <a href="../../sitemap.html"
           class="tile">Navigation</a>
       
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem lastItem">
        <ul class="portletNavigationTree navTreeLevel0">
            <li class="navTreeItem">
                <div>
                   <a href="../../../dev.1.html"
                      class=""
                      title="The Common Component Architecture Forum community site">
                   
                   Home
                   
                   </a>
                </div>
            </li>
            



<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../about-cca.1.html"
           class="state-external" title="">
            
            About the CCA
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../governance.1.html"
           class="state-external" title="">
            
            Participation and Governance
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../meetings.1.html"
           class="state-external"
           title="CCA Forum meetings are held quarterly at different places around the country. Check here for information about coming meetings (we plan a year ahead) and examine the minutes from previous ones. ">
            
            Meetings
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeItemInPath">

    

      <div>
        
        <a href="../../working-groups.1.html"
           class="state-external" title="">
            
            Working Groups
        </a>
        
    </div>

    <ul class="navTree navTreeLevel1">  
        



<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../working-group-roster.1.html"
           class="state-external"
           title="A list of all working groups: past, present, and forming.">
            
            Working Group Roster
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../event-service-specification-proposal.1.html"
           class="state-external"
           title="Summary of the current state of the Event Service. Includes the SIDL specification, a set of proposed use cases, and other documentation.">
            
            Event Service
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeItemInPath">

    

      <div>
        
        <a href="../mpi-service.1.html"
           class="state-external"
           title="Standards process information for component-wise access to MPI Communicator instances.">
            
            MPI Service
        </a>
        
    </div>

    <ul class="navTree navTreeLevel2">  
        



<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="mpiservice.sidl/view.html"
           class="state-external"
           title="Draft mpiservice and mpiserver ports in the gob namespace, since they are not yet official. mpiservice is what the typical mpi (or at least spmd) using component would access. mpisetup is the initialization port needed for an mpiservice implementation as a component to fill the basic use cases of an mpiservice implementation.">
            
            Draft mpiservice and mpiserver ports
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="general-notes-on-mpi-handles-in-sidl.1.html"
           class="state-external"
           title="MPI opaque handles require special, but simple, handle in SIDL. Here's how.">
            
            General notes on MPI handles in SIDL
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="proposal-status.1.html"
           class="state-external"
           title="MPIService has been available in Ccaffeine (in the ccaffeine package scope) since 1999.  Two other implementations are now also available. 
">
            
            Proposal status
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker navTreeCurrentNode">

    

      <div>
        
        <a href="use-cases-for-mpi-communicator-handles-in-cca.1.html"
           class="state-external navTreeCurrentItem"
           title="The primary parallel context in MPI-based codes is defined by a communicator. Here are the two basic use-cases for a component to end up with a communicator.">
            
            Use cases for MPI communicator handles in CCA
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="use-cases-for-a-mpiservice-implementation-as-a.1.html"
           class="state-external"
           title="A component-based implementation of MPIService could be used in several ways by a framework implementor or application designer.">
            
            Use cases for a MPIService implementation as a component 
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="mpiservice-rpt.pdf/view.html"
           class="state-external"
           title="Access to frame-scoped MPI communicators suitable for spmd and mcmd programming. Proposal approved by CCARB for Forum consideration.">
            
            P2009-07-23-1 Proposal: MPI for CCA Components
        </a>
        
    </div>

    
    
</li>




    </ul>
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../release-processing.1.html"
           class="state-external"
           title="Working Discussion/Documentation of release processes and criteria.
As the texts here (or portions thereof) becomes agreed, final versions will be added to the cca-release-tools doc repository.">
            
            Release Management
        </a>
        
    </div>

    
    
</li>




    </ul>
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../specification.1.html"
           class="state-external" title="">
            
            CCA Specification
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../software.1.html"
           class="state-external"
           title="CCA tools, components, and other CCA-related software

">
            
            Software
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../documentation.1.html"
           class="state-external" title="">
            
            Documentation
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="http://eprints.cca-forum.org"
           class="state-external" title="">
            
            Papers and Presentations
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../tutorials.1.html"
           class="state-external"
           title="CCA offers hands-on tutorials to introduce new users to the technology.">
            
            Tutorials
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../help.1.html"
           class="state-external" title="">
            
            Help Desk
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../coding-camps.1.html"
           class="state-external" title="">
            
            Coding Camps
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../collaboration-Tools.1.html"
           class="state-external" title="">
            
            Collaboration Tools
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../../mailman.1.html"
           class="state-external" title="">
            
            Mailing Lists
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../contact-us.1.html"
           class="state-external" title="">
            
            Contact Us
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../glossary.1.html"
           class="state-external" title="">
            
            Glossary
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../related-projects.1.html"
           class="state-external" title="">
            
            Related Projects
        </a>
        
    </div>

    
    
</li>


<li class="navTreeItem visualNoMarker">

    

      <div>
        
        <a href="../../../wiki.1.html"
           class="state-external"
           title="Workspaces for various CCA activities">
            
            Old Wiki (deprecated)
        </a>
        
    </div>

    
    
</li>




        </ul>
        <span class="portletBottomLeft"></span>
        <span class="portletBottomRight"></span>
    </dd>
</dl>

</div>


<div class="managePortletsLink">
  
</div>

                
                &nbsp;
              </div>
            </td>
            

            
            <td id="portal-column-content">

              
                <div class="">

                  


                  <div id="region-content" class="documentContent">

                    <span id="contentTopLeft"></span>
                    <span id="contentTopRight"></span>
                    
                    <a name="documentContent"></a>

                    

    <dl class="portalMessage info" id="kssPortalMessage" style="display:none">
        <dt>Info</dt>
        <dd></dd>
    </dl>


                    
                    <div id="viewlet-above-content"></div>

                    
                    
                    <div id="content">
                      
                      
    

        

        <h1 class="documentFirstHeading"> 
            
        <span class="" id="parent-fieldname-title">
            Use cases for MPI communicator handles in CCA
        </span>
    
        </h1>

        <div class="documentByLine" id="plone-document-byline">
  

  
    <span class="documentAuthor">
      by
      baallan

    </span>
  

  <span class="documentModified">
    &mdash;
    <span>
      last modified
    </span>
    Apr 22, 2009 01:23 PM
  </span>

  

  

  

</div>



        <p class="documentDescription">
            
        <span class="" id="parent-fieldname-description">
            The primary parallel context in MPI-based codes is defined by a communicator. Here are the two basic use-cases for a component to end up with a communicator.
        </span>
    
        </p>

        



        

        
        <div class="" id="parent-fieldname-text">
            
<p>In component-oriented programming, use of global resource (MPI_COMM_WORLD) is incorrect. This leaves the component developer with the task of initializing the communicator (or just rank information) used in a parallel algorithm implementation.</p>
<p>&nbsp;</p>
<h2>Case 0: Just want to know which process this is<br /></h2>
<p>To properly handle parallel data during local computations, many components in parallel programs need only the rank and size of a communicator and do not need message passing.&nbsp; An example is any component which wants rank just for output files or for issuing error messages.</p>
<p>&nbsp;</p>
<h2>Case 1: Get it from somewhere<br /></h2>
<p>In many cases, the component implementor does not need to expose to callers the fact that&nbsp; internally MPI is used.&nbsp; In this case, the component writer can call on a well-known (service) port during the setServices call to get&nbsp; a unique (not shared with other components) communicator. In a simple SPMD computing model, the framework instance which runs in parallel on all processes can provide the needed communicator handle during setServices. In the MCMD model, the application framer may need to substitute other sources of MPIService and make connections according to their desired process groups decomposition.</p>
<p>&nbsp;</p>
<p>MPIService is proposed to handle this case. As all (at least before the advent of MPI-2) MCMD MPI applications run SPMD until the program logic splits a communicator,&nbsp; the solution is potentially applicable to any MPI-based component.</p>
<p>&nbsp;</p>
<h2>Case 2: Expect it to be set from somewhere<br /></h2>
<p>In many cases,&nbsp; the component implementors choose to expose the dependency on caller-provided communicator. This communicator is usually passed during an initialization call. The component implementation may or may not allow for the communicator given to be shared with other components in the same process. The component implementation may need more than one communicator, e.g. a second one for file I/O processes. As the variety of particular circumstances is large, no formal standard is proposed for the "set communicator" case.&nbsp; For components not requiring complex initialization, we suggest</p>
<p>&nbsp;</p>
<pre>/** Collective call to specify the communicator this component needs. 
   @param fComm Fortran form of the communicator.
 */
int setMPIComm(in long fComm);</pre>
<p>&nbsp;</p>
<p>For components with the typical HPC lifecycle and a complex setup</p>
<pre>initialize(... lots of arguments...)
compute(...)
finish(...)</pre>
<p>&nbsp;</p>
<p>we recommend passing the communicator in the argument list of initialize to better ensure consistency.</p>

            
        </div>
    

        <div class="relatedItems">
    
        
            
        
    
</div>
    
        <div class="visualClear"><!-- --></div>
<div class="documentActions">
    

    <h5 class="hiddenStructure">Document Actions</h5>

    <ul>
    
        <li id="document-action-sendto">
            <a href="use-cases-for-mpi-communicator-handles-in-cca/sendto_form.html"
               title="">Send this</a>
        </li>
    
    
        <li id="document-action-print">
            <a href="javascript:this.print();" title="">Print this</a>
        </li>
    

    </ul>
    

    

</div>

<div class="reviewHistory" id="review-history">
    
</div>


    

                    </div>
                    

                    
                    
                      
    


                    
                    

                    <span id="contentBottomLeft"></span>
                    <span id="contentBottomRight"></span>

                  </div>

                </div>

              
            </td>
            

            
            
            
          </tr>
        </tbody>
      </table>
      

      <div class="visualClear" id="clear-space-before-footer"><!-- --></div>
      
      

      

        <div id="portal-footer">

<!-- Added by David Bernholdt 2008-07-14 -->
<!-- Printing of footer blocked by CSS, so this is not so useful 
<p>
URL: <span tal:omit-tag="" tal:content="context/absolute_url">this page</span>
</p>
-->
<p>

Copyright &copy; <span>2017</span>

&nbsp;|&nbsp;
<a href="http://www.ornl.gov/ornlhome/disclaimers.shtml">Privacy &amp; Security Notices</a>
&nbsp;|&nbsp;
<a href="../../contact-info.html">
  Feedback</a>
</p>
<!-- End of addition -->

<!-- Commented out by David Bernholdt 2008-01-20
<p>
    <span i18n:translate="description_copyright" tal:omit-tag="">
    The
    <span i18n:name="plonecms" tal:omit-tag="">
        <a href="http://plone.org" i18n:translate="label_plone_cms">Plone<sup>&reg;</sup> CMS &mdash; Open Source Content Management System</a>
    </span>
    is
    <acronym title="Copyright" i18n:name="copyright" i18n:attributes="title title_copyright;">&copy;</acronym>
    2000-<span i18n:name="current_year"
               tal:omit-tag=""
               tal:define="now modules/DateTime/DateTime"
               tal:content="now/year" />
    by the
    <span i18n:name="plonefoundation" tal:omit-tag="">
        <a href="http://plone.org/foundation" i18n:translate="label_plone_foundation">Plone Foundation</a></span>
    et al.
    </span>
</p>

<p>
    <span i18n:translate="description_trademark" tal:omit-tag="">
    Plone<sup>&reg;</sup> and the Plone logo are registered trademarks of the
        <span i18n:name="plonefoundation" tal:omit-tag="">
            <a href="http://plone.org/foundation" i18n:translate="label_plone_foundation">Plone Foundation</a></span>.
    </span>

    <span i18n:translate="description_license" tal:omit-tag="">
    Distributed under the
        <span i18n:name="license" tal:omit-tag="">
            <a href="http://creativecommons.org/licenses/GPL/2.0/" i18n:translate="label_gnu_gpl_licence">GNU GPL license</a></span>.
    </span>
</p>
-->

</div>

<div id="portal-colophon">
      

      

      <div class="colophonWrapper">
<!-- Commented out by David Bernholdt 2008-07-14
      <ul>
        <li>
          <a href="http://plone.org"
             title="This site was built using Plone CMS, the Open Source Content Management System. Click for more information."
             i18n:attributes="title title_built_with_plone;"
             i18n:translate="label_powered_by_plone">
            Powered by Plone</a>
        </li>
        <li>
          <a href="http://validator.w3.org/check/referer"
             title="This site is valid XHTML."
             i18n:attributes="title title_valid_xhtml;"
             i18n:translate="label_xhtml">
            Valid XHTML</a>
        </li>
        <li>
          <a href="http://jigsaw.w3.org/css-validator/check/referer&amp;warning=no&amp;profile=css3&amp;usermedium=all"
             title="This site was built with valid CSS."
             i18n:attributes="title title_built_with_css;"
             i18n:translate="label_css">
            Valid CSS</a>
        </li>
        <li>
          <a href="http://www.section508.gov"
             title="This site conforms to the US Government Section 508 Accessibility Guidelines."
             i18n:attributes="title title_section_508;"
             i18n:translate="label_section_508">
            Section 508</a>
        </li>
        <li>
          <a href="http://www.w3.org/WAI/WCAG1AA-Conformance"
             title="This site conforms to the W3C-WAI Web Content Accessibility Guidelines."
             i18n:attributes="title title_wcag_conformance;"
             i18n:translate="label_wcag">
            WCAG</a>
        </li>
      </ul>
-->
      </div>

    </div>



      

      <div class="visualClear"><!-- --></div>
    </div>
<div id="kss-spinner"><img alt=""
                           src="../../spinner.gif.html" /></div>
</body>
</html>


